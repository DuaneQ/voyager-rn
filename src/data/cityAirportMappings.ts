/**
 * Curated mapping of major cities to their serving airports
 * Based on Wikipedia's busiest airports list and Google Flights behavior
 * This ensures we show the correct airports for major metropolitan areas
 */
export const cityAirportMappings: Record<string, string[]> = {
  // United States - Major Cities (Ordered by passenger traffic)
  "Atlanta, GA, USA": ["ATL"],
  "Atlanta": ["ATL"],
  "Dallas, TX, USA": ["DFW", "DAL"],
  "Dallas": ["DFW", "DAL"],
  "Denver, CO, USA": ["DEN"],
  "Denver": ["DEN"],
  "Chicago, IL, USA": ["ORD", "MDW"],
  "Chicago": ["ORD", "MDW"],
  "Los Angeles, CA, USA": ["LAX", "BUR", "ONT", "SNA", "LGB"],
  "Los Angeles": ["LAX", "BUR", "ONT", "SNA", "LGB"],
  "New York, NY, USA": ["JFK", "LGA", "EWR"],
  "New York": ["JFK", "LGA", "EWR"],
  "Charlotte, NC, USA": ["CLT"],
  "Charlotte": ["CLT"],
  "Las Vegas, NV, USA": ["LAS"],
  "Las Vegas": ["LAS"],
  "Orlando, FL, USA": ["MCO", "SFB"],
  "Orlando": ["MCO", "SFB"],
  "Miami, FL, USA": ["MIA", "FLL", "PBI"],
  "Miami": ["MIA", "FLL", "PBI"],
  "Phoenix, AZ, USA": ["PHX"],
  "Phoenix": ["PHX"],
  "Seattle, WA, USA": ["SEA"],
  "Seattle": ["SEA"],
  "San Francisco, CA, USA": ["SFO", "OAK", "SJC"],
  "San Francisco": ["SFO", "OAK", "SJC"],
  "Newark, NJ, USA": ["EWR"],
  "Newark": ["EWR"],
  "Houston, TX, USA": ["IAH", "HOU"],
  "Houston": ["IAH", "HOU"],
  "Boston, MA, USA": ["BOS"],
  "Boston": ["BOS"],
  "Minneapolis, MN, USA": ["MSP"],
  "Minneapolis": ["MSP"],
  "Fort Lauderdale, FL, USA": ["FLL"],
  "Fort Lauderdale": ["FLL"],
  "Detroit, MI, USA": ["DTW"],
  "Detroit": ["DTW"],
  "Philadelphia, PA, USA": ["PHL"],
  "Philadelphia": ["PHL"],
  "Salt Lake City, UT, USA": ["SLC"],
  "Salt Lake City": ["SLC"],
  "Baltimore, MD, USA": ["BWI"],
  "Baltimore": ["BWI"],
  "Washington, DC, USA": ["DCA", "IAD", "BWI"],
  "Washington": ["DCA", "IAD", "BWI"],
  "San Diego, CA, USA": ["SAN"],
  "San Diego": ["SAN"],
  "Tampa, FL, USA": ["TPA"],
  "Tampa": ["TPA"],
  "Nashville, TN, USA": ["BNA"],
  "Nashville": ["BNA"],
  "Austin, TX, USA": ["AUS"],
  "Austin": ["AUS"],
  "Honolulu, HI, USA": ["HNL"],
  "Honolulu": ["HNL"],
  "Portland, OR, USA": ["PDX"],
  "Portland": ["PDX"],
  "St. Louis, MO, USA": ["STL"],
  "St. Louis": ["STL"],
  "Raleigh, NC, USA": ["RDU"],
  "Raleigh": ["RDU"],
  "Sacramento, CA, USA": ["SMF"],
  "Sacramento": ["SMF"],
  "New Orleans, LA, USA": ["MSY"],
  "New Orleans": ["MSY"],
  "San Juan, PR, USA": ["SJU"],
  "San Juan": ["SJU"],
  "Kansas City, MO, USA": ["MCI"],
  "Kansas City": ["MCI"],
  "San Jose, CA, USA": ["SJC"],
  "San Jose": ["SJC"],
  "San Antonio, TX, USA": ["SAT"],
  "San Antonio": ["SAT"],
  "Fort Myers, FL, USA": ["RSW"],
  "Fort Myers": ["RSW"],
  "Santa Ana, CA, USA": ["SNA"],
  "Santa Ana": ["SNA"],
  "Oakland, CA, USA": ["OAK"],
  "Oakland": ["OAK"],
  "Indianapolis, IN, USA": ["IND"],
  "Indianapolis": ["IND"],
  "Cleveland, OH, USA": ["CLE"],
  "Cleveland": ["CLE"],
  "Pittsburgh, PA, USA": ["PIT"],
  "Pittsburgh": ["PIT"],
  "Cincinnati, OH, USA": ["CVG"],
  "Cincinnati": ["CVG"],
  "Columbus, OH, USA": ["CMH", "LCK"],
  "Columbus": ["CMH"],
  "West Palm Beach, FL, USA": ["PBI"],
  "West Palm Beach": ["PBI"],
  "Jacksonville, FL, USA": ["JAX"],
  "Jacksonville": ["JAX"],
  "Ontario, CA, USA": ["ONT"],
  "Ontario": ["ONT"],
  "Kahului, HI, USA": ["OGG"],
  "Kahului": ["OGG"],
  "Burbank, CA, USA": ["BUR"],
  "Burbank": ["BUR"],
  "Hartford, CT, USA": ["BDL"],
  "Hartford": ["BDL"],
  "Charleston, SC, USA": ["CHS"],
  "Charleston": ["CHS"],
  "Milwaukee, WI, USA": ["MKE"],
  "Milwaukee": ["MKE"],
  "Anchorage, AK, USA": ["ANC"],
  "Anchorage": ["ANC"],
  "Albuquerque, NM, USA": ["ABQ"],
  "Albuquerque": ["ABQ"],
  "Omaha, NE, USA": ["OMA"],
  "Omaha": ["OMA"],
  "Buffalo, NY, USA": ["BUF"],
  "Buffalo": ["BUF"],
  "Boise, ID, USA": ["BOI"],
  "Boise": ["BOI"],
  "Tucson, AZ, USA": ["TUS"],
  "Tucson": ["TUS"],
  "Memphis, TN, USA": ["MEM"],
  "Memphis": ["MEM"],
  "Louisville, KY, USA": ["SDF"],
  "Louisville": ["SDF"],
  "El Paso, TX, USA": ["ELP"],
  "El Paso": ["ELP"],
  "Fresno, CA, USA": ["FAT"],
  "Fresno": ["FAT"],
  "Oklahoma City, OK, USA": ["OKC"],
  "Oklahoma City": ["OKC"],
  "Tulsa, OK, USA": ["TUL"],
  "Tulsa": ["TUL"],
  "Spokane, WA, USA": ["GEG"],
  "Spokane": ["GEG"],
  "Richmond, VA, USA": ["RIC"],
  "Richmond": ["RIC"],
  "Providence, RI, USA": ["PVD"],
  "Providence": ["PVD"],
  "Norfolk, VA, USA": ["ORF"],
  "Norfolk": ["ORF"],
  "Sarasota, FL, USA": ["SRQ"],
  "Sarasota": ["SRQ"],
  "Greensboro, NC, USA": ["GSO"],
  "Greensboro": ["GSO"],
  "Greenville, SC, USA": ["GSP"],
  "Greenville": ["GSP"],
  "Myrtle Beach, SC, USA": ["MYR"],
  "Myrtle Beach": ["MYR"],
  "Pensacola, FL, USA": ["PNS"],
  "Pensacola": ["PNS"],
  "Grand Rapids, MI, USA": ["GRR"],
  "Grand Rapids": ["GRR"],
  "Long Beach, CA, USA": ["LGB"],
  "Long Beach": ["LGB"],
  "Palm Springs, CA, USA": ["PSP"],
  "Palm Springs": ["PSP"],
  "Asheville, NC, USA": ["AVL"],
  "Asheville": ["AVL"],
  "Knoxville, TN, USA": ["TYS"],
  "Knoxville": ["TYS"],
  "Madison, WI, USA": ["MSN"],
  "Madison": ["MSN"],
  "Little Rock, AR, USA": ["LIT"],
  "Little Rock": ["LIT"],
  "Dayton, OH, USA": ["DAY"],
  "Dayton": ["DAY"],
  "Wichita, KS, USA": ["ICT"],
  "Wichita": ["ICT"],
  "Wilmington, NC, USA": ["ILM"],
  "Wilmington": ["ILM"],
  "Des Moines, IA, USA": ["DSM"],
  "Des Moines": ["DSM"],
  "Rochester, NY, USA": ["ROC"],
  "Rochester": ["ROC"],
  "Syracuse, NY, USA": ["SYR"],
  "Syracuse": ["SYR"],
  "Colorado Springs, CO, USA": ["COS"],
  "Colorado Springs": ["COS"],
  "Savannah, GA, USA": ["SAV"],
  "Savannah": ["SAV"],
  "Bozeman, MT, USA": ["BZN"],
  "Bozeman": ["BZN"],
  "Lexington, KY, USA": ["LEX"],
  "Lexington": ["LEX"],
  "Portland, ME, USA": ["PWM"],
  "Key West, FL, USA": ["EYW"],
  "Key West": ["EYW"],
  "Harrisburg, PA, USA": ["MDT"],
  "Harrisburg": ["MDT"],
  "Columbia, SC, USA": ["CAE"],
  "Chattanooga, TN, USA": ["CHA"],
  "Chattanooga": ["CHA"],
  "Santa Barbara, CA, USA": ["SBA"],
  "Santa Barbara": ["SBA"],
  "Cedar Rapids, IA, USA": ["CID"],
  "Cedar Rapids": ["CID"],
  "Fayetteville, AR, USA": ["XNA"],
  "Fayetteville": ["XNA"],
  "Hilo, HI, USA": ["ITO"],
  "Hilo": ["ITO"],
  "Kona, HI, USA": ["KOA"],
  "Kona": ["KOA"],
  "Lihue, HI, USA": ["LIH"],
  "Lihue": ["LIH"],
  "Islip, NY, USA": ["ISP"],
  "Islip": ["ISP"],
  "White Plains, NY, USA": ["HPN"],
  "White Plains": ["HPN"],
  "Albany, NY, USA": ["ALB"],
  "Albany": ["ALB"],
  "Fort Wayne, IN, USA": ["FWA"],
  "Fort Wayne": ["FWA"],
  "South Bend, IN, USA": ["SBN"],
  "South Bend": ["SBN"],
  "Reno, NV, USA": ["RNO"],
  "Reno": ["RNO"],
  "Manchester, NH, USA": ["MHT"],
  "Manchester": ["MHT"],
  "Atlantic City, NJ, USA": ["ACY"],
  "Atlantic City": ["ACY"],
  "Trenton, NJ, USA": ["TTN"],
  "Trenton": ["TTN"],
  "Springfield, MO, USA": ["SGF"],
  "Springfield": ["SGF"],
  "Billings, MT, USA": ["BIL"],
  "Billings": ["BIL"],
  "Missoula, MT, USA": ["MSO"],
  "Missoula": ["MSO"],
  "Fargo, ND, USA": ["FAR"],
  "Fargo": ["FAR"],
  "Akron, OH, USA": ["CAK"],
  "Akron": ["CAK"],
  "Toledo, OH, USA": ["TOL"],
  "Toledo": ["TOL"],
  "Allentown, PA, USA": ["ABE"],
  "Allentown": ["ABE"],
  "Rapid City, SD, USA": ["RAP"],
  "Rapid City": ["RAP"],
  "Sioux Falls, SD, USA": ["FSD"],
  "Sioux Falls": ["FSD"],
  "Jackson, MS, USA": ["JAN"],
  "Jackson": ["JAN"],
  "Eugene, OR, USA": ["EUG"],
  "Eugene": ["EUG"],
  "Medford, OR, USA": ["MFR"],
  "Medford": ["MFR"],
  "Redmond, OR, USA": ["RDM"],
  "Redmond": ["RDM"],
  "Bellingham, WA, USA": ["BLI"],
  "Bellingham": ["BLI"],
  "Pasco, WA, USA": ["PSC"],
  "Pasco": ["PSC"],
  "Charleston, WV, USA": ["CRW"],
  "Appleton, WI, USA": ["ATW"],
  "Appleton": ["ATW"],
  "Green Bay, WI, USA": ["GRB"],
  "Green Bay": ["GRB"],
  "Jackson, WY, USA": ["JAC"],
  "Jackson": ["JAC"],
  "Lubbock, TX, USA": ["LBB"],
  "Lubbock": ["LBB"],
  "McAllen, TX, USA": ["MFE"],
  "McAllen": ["MFE"],
  "Midland, TX, USA": ["MAF"],
  "Midland": ["MAF"],
  "Corpus Christi, TX, USA": ["CRP"],
  "Corpus Christi": ["CRP"],
  "Amarillo, TX, USA": ["AMA"],
  "Amarillo": ["AMA"],
  "Brownsville, TX, USA": ["BRO"],
  "Brownsville": ["BRO"],
  "Harlingen, TX, USA": ["HRL"],
  "Harlingen": ["HRL"],
  "Laredo, TX, USA": ["LRD"],
  "Laredo": ["LRD"],
  "Huntsville, AL, USA": ["HSV"],
  "Huntsville": ["HSV"],
  "Birmingham, AL, USA": ["BHM"],
  "Birmingham": ["BHM"],
  "Mobile, AL, USA": ["MOB"],
  "Mobile": ["MOB"],
  "Fairbanks, AK, USA": ["FAI"],
  "Fairbanks": ["FAI"],
  "Juneau, AK, USA": ["JNU"],
  "Juneau": ["JNU"],
  "Flagstaff, AZ, USA": ["FLG"],
  "Flagstaff": ["FLG"],
  "Mesa, AZ, USA": ["IWA"],
  "Mesa": ["IWA"],
  "Yuma, AZ, USA": ["NYL"],
  "Yuma": ["NYL"],
  "Fort Smith, AR, USA": ["FSM"],
  "Fort Smith": ["FSM"],
  "Bakersfield, CA, USA": ["BFL"],
  "Bakersfield": ["BFL"],
  "Monterey, CA, USA": ["MRY"],
  "Monterey": ["MRY"],
  "Redding, CA, USA": ["RDD"],
  "Redding": ["RDD"],
  "San Luis Obispo, CA, USA": ["SBP"],
  "San Luis Obispo": ["SBP"],
  "Santa Rosa, CA, USA": ["STS"],
  "Santa Rosa": ["STS"],
  "Stockton, CA, USA": ["SCK"],
  "Stockton": ["SCK"],
  "Aspen, CO, USA": ["ASE"],
  "Aspen": ["ASE"],
  "Durango, CO, USA": ["DRO"],
  "Durango": ["DRO"],
  "Grand Junction, CO, USA": ["GJT"],
  "Grand Junction": ["GJT"],
  "Montrose, CO, USA": ["MTJ"],
  "Montrose": ["MTJ"],
  "Daytona Beach, FL, USA": ["DAB"],
  "Daytona Beach": ["DAB"],
  "Fort Walton Beach, FL, USA": ["VPS"],
  "Fort Walton Beach": ["VPS"],
  "Gainesville, FL, USA": ["GNV"],
  "Gainesville": ["GNV"],
  "Panama City, FL, USA": ["ECP"],
  "Panama City": ["ECP"],
  "Punta Gorda, FL, USA": ["PGD"],
  "Punta Gorda": ["PGD"],
  "Tallahassee, FL, USA": ["TLH"],
  "Tallahassee": ["TLH"],
  "Augusta, GA, USA": ["AGS"],
  "Augusta": ["AGS"],
  "Columbus, GA, USA": ["CSG"],
  "Idaho Falls, ID, USA": ["IDA"],
  "Idaho Falls": ["IDA"],
  "Bloomington, IL, USA": ["BMI"],
  "Bloomington": ["BMI"],
  "Moline, IL, USA": ["MLI"],
  "Moline": ["MLI"],
  "Peoria, IL, USA": ["PIA"],
  "Peoria": ["PIA"],
  "Rockford, IL, USA": ["RFD"],
  "Rockford": ["RFD"],
  "Springfield, IL, USA": ["SPI"],
  "Evansville, IN, USA": ["EVV"],
  "Evansville": ["EVV"],
  "Dubuque, IA, USA": ["DBQ"],
  "Dubuque": ["DBQ"],
  "Sioux City, IA, USA": ["SUX"],
  "Sioux City": ["SUX"],
  "Lafayette, LA, USA": ["LFT"],
  "Lafayette": ["LFT"],
  "Baton Rouge, LA, USA": ["BTR"],
  "Baton Rouge": ["BTR"],
  "Shreveport, LA, USA": ["SHV"],
  "Shreveport": ["SHV"],
  "Bangor, ME, USA": ["BGR"],
  "Bangor": ["BGR"],
  "Hagerstown, MD, USA": ["HGR"],
  "Hagerstown": ["HGR"],
  "Salisbury, MD, USA": ["SBY"],
  "Salisbury": ["SBY"],
  "Flint, MI, USA": ["FNT"],
  "Flint": ["FNT"],
  "Kalamazoo, MI, USA": ["AZO"],
  "Kalamazoo": ["AZO"],
  "Lansing, MI, USA": ["LAN"],
  "Lansing": ["LAN"],
  "Saginaw, MI, USA": ["MBS"],
  "Saginaw": ["MBS"],
  "Traverse City, MI, USA": ["TVC"],
  "Traverse City": ["TVC"],
  "Duluth, MN, USA": ["DLH"],
  "Duluth": ["DLH"],
  "Gulfport, MS, USA": ["GPT"],
  "Gulfport": ["GPT"],
  "Lincoln, NE, USA": ["LNK"],
  "Lincoln": ["LNK"],
  "Portsmouth, NH, USA": ["PSM"],
  "Portsmouth": ["PSM"],
  "Binghamton, NY, USA": ["BGM"],
  "Binghamton": ["BGM"],
  "Elmira, NY, USA": ["ELM"],
  "Elmira": ["ELM"],
  "Ithaca, NY, USA": ["ITH"],
  "Ithaca": ["ITH"],
  "Newburgh, NY, USA": ["SWF"],
  "Newburgh": ["SWF"],
  "Plattsburgh, NY, USA": ["PBG"],
  "Plattsburgh": ["PBG"],
  "Concord, NC, USA": ["JQF"],
  "Concord": ["JQF"],
  "Bismarck, ND, USA": ["BIS"],
  "Bismarck": ["BIS"],
  "Grand Forks, ND, USA": ["GFK"],
  "Grand Forks": ["GFK"],
  "Minot, ND, USA": ["MOT"],
  "Minot": ["MOT"],
  "Lawton, OK, USA": ["LAW"],
  "Lawton": ["LAW"],
  "Erie, PA, USA": ["ERI"],
  "Erie": ["ERI"],
  "Latrobe, PA, USA": ["LBE"],
  "Latrobe": ["LBE"],
  "Scranton, PA, USA": ["AVP"],
  "Scranton": ["AVP"],
  "Burlington, VT, USA": ["BTV"],
  "Burlington": ["BTV"],
  "Charlottesville, VA, USA": ["CHO"],
  "Charlottesville": ["CHO"],
  "Lynchburg, VA, USA": ["LYH"],
  "Lynchburg": ["LYH"],
  "Newport News, VA, USA": ["PHF"],
  "Newport News": ["PHF"],
  "Roanoke, VA, USA": ["ROA"],
  "Roanoke": ["ROA"],
  
  // Europe - Major Cities
  "London, UK": ["LHR", "LGW", "STN", "LTN", "LCY", "SEN"],
  "London": ["LHR", "LGW", "STN", "LTN", "LCY", "SEN"],
  "Paris, France": ["CDG", "ORY", "BVA"],
  "Paris": ["CDG", "ORY", "BVA"],
  "Amsterdam, Netherlands": ["AMS"],
  "Amsterdam": ["AMS"],
  "Frankfurt, Germany": ["FRA"],
  "Frankfurt": ["FRA"],
  "Madrid, Spain": ["MAD"],
  "Madrid": ["MAD"],
  "Barcelona, Spain": ["BCN"],
  "Barcelona": ["BCN"],
  "Rome, Italy": ["FCO", "CIA"],
  "Rome": ["FCO", "CIA"],
  "Munich, Germany": ["MUC"],
  "Munich": ["MUC"],
  "Istanbul, Turkey": ["IST", "SAW"],
  "Istanbul": ["IST", "SAW"],
  "Milan, Italy": ["MXP", "LIN", "BGY"],
  "Milan": ["MXP", "LIN", "BGY"],
  "Vienna, Austria": ["VIE"],
  "Vienna": ["VIE"],
  "Dublin, Ireland": ["DUB"],
  "Dublin": ["DUB"],
  "Copenhagen, Denmark": ["CPH"],
  "Copenhagen": ["CPH"],
  "Stockholm, Sweden": ["ARN", "BMA"],
  "Stockholm": ["ARN", "BMA"],
  "Brussels, Belgium": ["BRU", "CRL"],
  "Brussels": ["BRU", "CRL"],
  "Zurich, Switzerland": ["ZRH"],
  "Zurich": ["ZRH"],
  "Athens, Greece": ["ATH"],
  "Athens": ["ATH"],
  "Lisbon, Portugal": ["LIS"],
  "Lisbon": ["LIS"],
  
  // Asia - Major Cities
  "Tokyo, Japan": ["HND", "NRT"],
  "Tokyo": ["HND", "NRT"],
  "Dubai, UAE": ["DXB", "DWC"],
  "Dubai": ["DXB", "DWC"],
  "Seoul, South Korea": ["ICN", "GMP"],
  "Seoul": ["ICN", "GMP"],
  "Singapore": ["SIN"],
  "Bangkok, Thailand": ["BKK", "DMK"],
  "Bangkok": ["BKK", "DMK"],
  "Hong Kong": ["HKG"],
  "Beijing, China": ["PEK", "PKX"],
  "Beijing": ["PEK", "PKX"],
  "Shanghai, China": ["PVG", "SHA"],
  "Shanghai": ["PVG", "SHA"],
  "Guangzhou, China": ["CAN"],
  "Guangzhou": ["CAN"],
  "Delhi, India": ["DEL"],
  "Delhi": ["DEL"],
  "Mumbai, India": ["BOM"],
  "Mumbai": ["BOM"],
  "Kuala Lumpur, Malaysia": ["KUL"],
  "Kuala Lumpur": ["KUL"],
  "Jakarta, Indonesia": ["CGK"],
  "Jakarta": ["CGK"],
  "Manila, Philippines": ["MNL"],
  "Manila": ["MNL"],
  "Taipei, Taiwan": ["TPE", "TSA"],
  "Taipei": ["TPE", "TSA"],
  "Osaka, Japan": ["KIX", "ITM"],
  "Osaka": ["KIX", "ITM"],
  
  // Middle East
  "Doha, Qatar": ["DOH"],
  "Doha": ["DOH"],
  "Jeddah, Saudi Arabia": ["JED"],
  "Jeddah": ["JED"],
  "Riyadh, Saudi Arabia": ["RUH"],
  "Riyadh": ["RUH"],
  "Tel Aviv, Israel": ["TLV"],
  "Tel Aviv": ["TLV"],
  
  // Canada
  "Toronto, Canada": ["YYZ", "YTZ"],
  "Toronto": ["YYZ", "YTZ"],
  "Vancouver, Canada": ["YVR"],
  "Vancouver": ["YVR"],
  "Montreal, Canada": ["YUL"],
  "Montreal": ["YUL"],
  "Calgary, Canada": ["YYC"],
  "Calgary": ["YYC"],
  
  // Latin America
  "Mexico City, Mexico": ["MEX"],
  "Mexico City": ["MEX"],
  "São Paulo, Brazil": ["GRU", "CGH"],
  "Sao Paulo": ["GRU", "CGH"],
  "Bogotá, Colombia": ["BOG"],
  "Bogota": ["BOG"],
  "Buenos Aires, Argentina": ["EZE", "AEP"],
  "Buenos Aires": ["EZE", "AEP"],
  "Lima, Peru": ["LIM"],
  "Lima": ["LIM"],
  "Cancún, Mexico": ["CUN"],
  "Cancun": ["CUN"],
  
  // Oceania
  "Sydney, Australia": ["SYD"],
  "Sydney": ["SYD"],
  "Melbourne, Australia": ["MEL"],
  "Melbourne": ["MEL"],
  "Brisbane, Australia": ["BNE"],
  "Brisbane": ["BNE"],
  "Auckland, New Zealand": ["AKL"],
  "Auckland": ["AKL"],
};

/**
 * Normalize a location string for mapping lookup
 * Handles various input formats: "Paris", "Paris, France", "paris, france"
 */
export function normalizeLocationForMapping(location: string): string[] {
  const normalized = location.trim();
  const possibleKeys: string[] = [normalized];
  
  // Don't add single-word fallback if there's a comma (user specified a location)
  // This prevents "Paris, TX" from matching "Paris" → "Paris, France"
  // We only want exact matches or case-insensitive exact matches
  
  return possibleKeys;
}

/**
 * Get airport IATA codes for a given location from curated mappings
 * Returns null if location is not in curated list
 */
export function getAirportsForLocation(location: string): string[] | null {
  const possibleKeys = normalizeLocationForMapping(location);
  
  for (const key of possibleKeys) {
    // Try exact match
    if (cityAirportMappings[key]) {
      return cityAirportMappings[key];
    }
    
    // Try case-insensitive match
    const lowerKey = key.toLowerCase();
    for (const [mappingKey, airports] of Object.entries(cityAirportMappings)) {
      if (mappingKey.toLowerCase() === lowerKey) {
        return airports;
      }
    }
  }
  
  return null;
}
