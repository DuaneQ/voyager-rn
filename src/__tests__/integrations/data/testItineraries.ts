/**
 * Test Itinerary Data - Mimics actual CloudSQL itinerary structure
 * 
 * This data is used to test ALL filters in searchItineraries Cloud Function:
 * - Destination filtering (exact match)
 * - Gender filtering (Male/Female/No Preference)
 * - Status filtering (single/couple/No Preference)
 * - Sexual Orientation filtering (heterosexual/bisexual/homosexual/No Preference)
 * - Age filtering (candidate age within searcher's lowerRange-upperRange)
 * - Date overlap filtering (trips must overlap)
 * - Blocked users filtering (bidirectional)
 * - Excluded IDs filtering (already viewed)
 */

const TEST_USER_ID = '3e6ot6MHvGR1Nu8wno0XbdAtOnP2';

// Generate unique user IDs for test itineraries (different from searcher)
const generateTestUserId = (index: number) => `test-user-${index}-${Date.now().toString().slice(-6)}`;

// Helper to get future dates
const getFutureDates = () => {
  const now = Date.now();
  const week1Start = now + 7 * 24 * 60 * 60 * 1000;
  const week1End = week1Start + 7 * 24 * 60 * 60 * 1000;
  const week2Start = now + 14 * 24 * 60 * 60 * 1000;
  const week2End = week2Start + 7 * 24 * 60 * 60 * 1000;
  const week3Start = now + 21 * 24 * 60 * 60 * 1000;
  const week3End = week3Start + 7 * 24 * 60 * 60 * 1000;
  const week4Start = now + 28 * 24 * 60 * 60 * 1000;
  const week4End = week4Start + 7 * 24 * 60 * 60 * 1000;

  return {
    week1Start: new Date(week1Start),
    week1End: new Date(week1End),
    week1StartMs: String(week1Start),
    week1EndMs: String(week1End),
    week2Start: new Date(week2Start),
    week2End: new Date(week2End),
    week2StartMs: String(week2Start),
    week2EndMs: String(week2End),
    week3Start: new Date(week3Start),
    week3End: new Date(week3End),
    week3StartMs: String(week3Start),
    week3EndMs: String(week3End),
    week4Start: new Date(week4Start),
    week4End: new Date(week4End),
    week4StartMs: String(week4Start),
    week4EndMs: String(week4End),
  };
};

export const generateTestItineraries = () => {
  const dates = getFutureDates();
  const timestamp = Date.now();

  return [
    // === DESTINATION FILTERING ===
    // Paris itineraries (for destination exact match tests)
    {
      id: `test-paris-male-${timestamp}`,
      userId: generateTestUserId(1),
      destination: 'Paris, France',
      title: 'Paris Adventure',
      description: 'Test itinerary for Paris',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Sightseeing", "Museums"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(1),
        email: 'testuser1@test.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_Paris_Male',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-paris-female-${timestamp}`,
      userId: generateTestUserId(2),
      destination: 'Paris, France',
      title: 'Paris Trip',
      description: 'Test itinerary for Paris female',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Female',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 28,
      likes: '[]',
      activities: '["Shopping", "Food"]',
      userInfo: JSON.stringify({
        dob: '1997-01-01',
        uid: generateTestUserId(1),
        email: 'usertravaltest@gmail.com',
        gender: 'Female',
        status: 'single',
        blocked: [],
        username: 'TestUser_Paris_F',
        sexualOrientation: 'heterosexual',
      }),
    },

    // Tokyo itinerary (different destination)
    {
      id: `test-tokyo-${timestamp}`,
      userId: generateTestUserId(1),
      destination: 'Tokyo, Japan',
      title: 'Tokyo Adventure',
      description: 'Test itinerary for Tokyo',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Anime", "Food"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(2),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_Tokyo',
        sexualOrientation: 'heterosexual',
      }),
    },

    // === AGE FILTERING ===
    // Barcelona itineraries with different ages
    {
      id: `test-barcelona-age22-${timestamp}`,
      userId: generateTestUserId(2),
      destination: 'Barcelona, Spain',
      title: 'Barcelona Young',
      description: 'Test itinerary age 22',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 18,
      upperRange: 27,
      gender: 'Female',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 22, // Young age
      likes: '[]',
      activities: '["Beach", "Clubs"]',
      userInfo: JSON.stringify({
        dob: '2003-01-01',
        uid: generateTestUserId(3),
        email: 'usertravaltest@gmail.com',
        gender: 'Female',
        status: 'single',
        blocked: [],
        username: 'TestUser_Barcelona_Young',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-barcelona-age30-${timestamp}`,
      userId: generateTestUserId(3),
      destination: 'Barcelona, Spain',
      title: 'Barcelona Mid',
      description: 'Test itinerary age 30',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Female',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30, // Mid age
      likes: '[]',
      activities: '["Wine", "Architecture"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(4),
        email: 'usertravaltest@gmail.com',
        gender: 'Female',
        status: 'single',
        blocked: [],
        username: 'TestUser_Barcelona_Mid',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-barcelona-age45-${timestamp}`,
      userId: generateTestUserId(4),
      destination: 'Barcelona, Spain',
      title: 'Barcelona Older',
      description: 'Test itinerary age 45',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 40,
      upperRange: 55,
      gender: 'Female',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 45, // Older age
      likes: '[]',
      activities: '["Museums", "Fine Dining"]',
      userInfo: JSON.stringify({
        dob: '1980-01-01',
        uid: generateTestUserId(5),
        email: 'usertravaltest@gmail.com',
        gender: 'Female',
        status: 'single',
        blocked: [],
        username: 'TestUser_Barcelona_Older',
        sexualOrientation: 'heterosexual',
      }),
    },

    // === GENDER FILTERING ===
    // Amsterdam itineraries with different genders
    {
      id: `test-amsterdam-male-${timestamp}`,
      userId: generateTestUserId(5),
      destination: 'Amsterdam, Netherlands',
      title: 'Amsterdam Male',
      description: 'Test itinerary male gender',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Biking", "Coffee Shops"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(6),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_Amsterdam_Male',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-amsterdam-female-${timestamp}`,
      userId: generateTestUserId(6),
      destination: 'Amsterdam, Netherlands',
      title: 'Amsterdam Female',
      description: 'Test itinerary female gender',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Female',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 28,
      likes: '[]',
      activities: '["Museums", "Canals"]',
      userInfo: JSON.stringify({
        dob: '1997-01-01',
        uid: generateTestUserId(7),
        email: 'usertravaltest@gmail.com',
        gender: 'Female',
        status: 'single',
        blocked: [],
        username: 'TestUser_Amsterdam_Female',
        sexualOrientation: 'heterosexual',
      }),
    },

    // === STATUS FILTERING ===
    // Rome itineraries with different statuses
    {
      id: `test-rome-single-${timestamp}`,
      userId: generateTestUserId(7),
      destination: 'Rome, Italy',
      title: 'Rome Single',
      description: 'Test itinerary single status',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["History", "Food"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(8),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_Rome_Single',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-rome-couple-${timestamp}`,
      userId: generateTestUserId(8),
      destination: 'Rome, Italy',
      title: 'Rome Couple',
      description: 'Test itinerary couple status',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'couple',
      age: 30,
      likes: '[]',
      activities: '["Romantic", "Wine"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(9),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'couple',
        blocked: [],
        username: 'TestUser_Rome_Couple',
        sexualOrientation: 'heterosexual',
      }),
    },

    // === SEXUAL ORIENTATION FILTERING ===
    // Berlin itineraries with different orientations
    {
      id: `test-berlin-hetero-${timestamp}`,
      userId: generateTestUserId(9),
      destination: 'Berlin, Germany',
      title: 'Berlin Hetero',
      description: 'Test itinerary heterosexual',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Clubs", "History"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(10),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_Berlin_Hetero',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-berlin-bi-${timestamp}`,
      userId: generateTestUserId(10),
      destination: 'Berlin, Germany',
      title: 'Berlin Bi',
      description: 'Test itinerary bisexual',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Female',
      sexualOrientation: 'bisexual',
      status: 'single',
      age: 28,
      likes: '[]',
      activities: '["Art", "Music"]',
      userInfo: JSON.stringify({
        dob: '1997-01-01',
        uid: generateTestUserId(11),
        email: 'usertravaltest@gmail.com',
        gender: 'Female',
        status: 'single',
        blocked: [],
        username: 'TestUser_Berlin_Bi',
        sexualOrientation: 'bisexual',
      }),
    },
    {
      id: `test-berlin-homo-${timestamp}`,
      userId: generateTestUserId(11),
      destination: 'Berlin, Germany',
      title: 'Berlin Homo',
      description: 'Test itinerary homosexual',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'homosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Pride Events", "Nightlife"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(12),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_Berlin_Homo',
        sexualOrientation: 'homosexual',
      }),
    },

    // === DATE OVERLAP FILTERING ===
    // London itineraries with different date ranges
    {
      id: `test-london-week1-${timestamp}`,
      userId: generateTestUserId(12),
      destination: 'London, UK',
      title: 'London Week 1',
      description: 'Test itinerary week 1 dates',
      startDate: dates.week1Start.toISOString(),
      endDate: dates.week1End.toISOString(),
      startDay: dates.week1StartMs,
      endDay: dates.week1EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Theater", "Pubs"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(13),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_London_W1',
        sexualOrientation: 'heterosexual',
      }),
    },
    {
      id: `test-london-week3-${timestamp}`,
      userId: generateTestUserId(13),
      destination: 'London, UK',
      title: 'London Week 3',
      description: 'Test itinerary week 3 dates (no overlap with week 1)',
      startDate: dates.week3Start.toISOString(),
      endDate: dates.week3End.toISOString(),
      startDay: dates.week3StartMs,
      endDay: dates.week3EndMs,
      lowerRange: 25,
      upperRange: 35,
      gender: 'Male',
      sexualOrientation: 'heterosexual',
      status: 'single',
      age: 30,
      likes: '[]',
      activities: '["Museums", "Shopping"]',
      userInfo: JSON.stringify({
        dob: '1995-01-01',
        uid: generateTestUserId(14),
        email: 'usertravaltest@gmail.com',
        gender: 'Male',
        status: 'single',
        blocked: [],
        username: 'TestUser_London_W3',
        sexualOrientation: 'heterosexual',
      }),
    },
  ];
};

export default generateTestItineraries;
